#Basic java stuff
language: java
jdk:
  - openjdk8

#Install tasks (Can't use apt - outdated)
install:
  - curl -s get.sdkman.io | bash
  - source "$HOME/.sdkman/bin/sdkman-init.sh"
  - echo sdkman_auto_answer=true > ~/.sdkman/etc/config
  - source "/home/travis/.sdkman/bin/sdkman-init.sh"
  - sdk install gradle 5.5

#Our projects don't have a gradle wrapper
script: gradle build -Prelease

#Don't build untagged branches
branches:
  except:
    - untagged*

#Don't pester me about this stuff
notifications:
  email: false

#Deployment
deploy:
  provider: releases

  #Cleanup deletes the file we build
  skip_cleanup: true

  #Point to the "libs" folder
  file_glob: true
  file: build/libs/*

  #Acceptable repository
  on:
    repo: HelloWorldMinecraft/MostlyNoRefunds

  #API Key
  api_key:
    secure: rPgTnFMiXQtdviab4bmnC5VkeauuCcWBeoYH0NXDazuJSAVVQXSre2ldtlyp5X4grO1TlSo0PLGK1yo1hj8wuVgjeT3tRBNwIRwm0kNDDdeRUeuDnyLB7rz9Vsl4HHU0wJXG0gpSPXves2rqX5cGr+6UztHPoye4q57WS1Up8VIvJ3+toYc1H/TXe07vcbhq7LQ7AQg8+BqYCHW+eBw5Ni2KVb/x0AnHaXdS8BuaZDMItYpeugz5KmxntY4SmZ1TupyuN+Is5ltk+ZvFFDH72ugYU1DIKUnvtaQpbDlDQXgGPeVI3HOf8B3J6pnNWWuCneSpBId21zkPSzHuRrTt85LmyTl6aKjot4AbtI62i6GoFLB2JXjVR2soIlR4SzRBe8TTMtnMEN+UdHU2gKEDt0qb1M7H5abH4jiJtdKjztGFewCmftgGzEVtcK2/h9p+m+ZRYCtOgorryXVG4qrQPY6JRaxbjD7VqDEnomlCRv7bO+UYtxS44kOCWE9kg4ymIwWZ0ydlq1GJBHH/aoKvDgQuG65DqPPym6bIx2IaeP/BE4HUC+RRbegjFhRYyXvd4Ype/dQHR6321NFxjZG6fJOGCus9XNvCG+Nd+2cYjryKX17+aIMXYgDTUPpVthhjewRPo6ILm7PrPeQsWEUc0uJ/lOxc+l+3J5DTQVer7aM=
